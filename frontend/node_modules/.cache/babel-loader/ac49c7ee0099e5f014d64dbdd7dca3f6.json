{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Manasvi\\\\OneDrive\\\\Desktop\\\\Social_media_application\\\\frontend\\\\src\\\\components\\\\AllPosts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport MediaFeed from './MediaFeed';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AllPosts() {\n  _s();\n\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetch('/allpost', {\n      headers: {\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json()).then(result => {\n      console.log(result);\n      setData(result.posts);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: data.map(item => {\n      /*#__PURE__*/\n      _jsxDEV(\"div\", {\n        className: \"card home-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.photo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"material-icons\",\n            style: {\n              color: \"red\"\n            },\n            children: \"favorite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 17\n          }, this), \"?\", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"material-icons\",\n            children: \"thumb_down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 18\n          }, this), \":\", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"material-icons\",\n            onClick: () => {\n              likePost(item._id);\n            },\n            children: \"thumb_up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 17\n          }, this), \"}\", /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [item.likes.length, \" likes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.body\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }, this), item.comments.map(record => {\n            return /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"500\"\n                },\n                children: record.postedBy.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 50\n              }, this), \" \", record.text]\n            }, record._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 29\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: e => {\n              e.preventDefault();\n              makeComment(e.target[0].value, item._id);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"add a comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 17\n        }, this)]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n} //   <div>\n//   <MediaFeed\n//   key={item._id}\n//   image={item.photo}\n//   body = {item.body}\n//   />\n//   </div>\n\n_s(AllPosts, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\n_c = AllPosts;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllPosts\");","map":{"version":3,"sources":["C:/Users/Manasvi/OneDrive/Desktop/Social_media_application/frontend/src/components/AllPosts.js"],"names":["React","useState","useEffect","MediaFeed","AllPosts","data","setData","fetch","headers","localStorage","getItem","then","res","json","result","console","log","posts","map","item","photo","color","likePost","_id","likes","length","title","body","comments","record","fontWeight","postedBy","name","text","e","preventDefault","makeComment","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport MediaFeed from './MediaFeed';\r\n\r\n\r\nexport default function AllPosts() {\r\n\r\n    const [data, setData] = useState([])\r\n    useEffect(()=>{\r\n        fetch('/allpost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            setData(result.posts)\r\n        })\r\n     },[])\r\n    return( \r\n    <div>\r\n        {\r\n            data.map(item => {\r\n                <div className=\"card home-card\" key={item._id}>\r\n                \r\n                <div className=\"card-image\">\r\n                    <img src={item.photo}/>\r\n                </div>\r\n                <div className=\"card-content\">\r\n                <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\r\n                {/* {item.likes.includes(state._id) */}\r\n                ? \r\n                 <i className=\"material-icons\"\r\n                  >thumb_down</i>\r\n                : \r\n                <i className=\"material-icons\"\r\n                onClick={()=>{likePost(item._id)}}\r\n                >thumb_up</i>\r\n                }\r\n                \r\n               \r\n                    <h6>{item.likes.length} likes</h6>\r\n                    <h6>{item.title}</h6>\r\n                    <p>{item.body}</p>\r\n                    {\r\n                        item.comments.map(record=>{\r\n                            return(\r\n                            <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\r\n                            )\r\n                        })\r\n                    }\r\n                    <form onSubmit={(e)=>{\r\n                        e.preventDefault()\r\n                        makeComment(e.target[0].value,item._id)\r\n                    }}>\r\n                      <input type=\"text\" placeholder=\"add a comment\" />  \r\n                    </form>\r\n                    \r\n                </div>\r\n            </div> \r\n            }\r\n            )\r\n        }\r\n    </div>\r\n)\r\n}\r\n\r\n            //   <div>\r\n            //   <MediaFeed\r\n            //   key={item._id}\r\n            //   image={item.photo}\r\n            //   body = {item.body}\r\n            //   />\r\n            //   </div>"]},"metadata":{},"sourceType":"module"}